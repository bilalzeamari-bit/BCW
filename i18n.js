const translations = {
  fr: {
    brand: {
      tagline: "Secondaire - Enseignement supérieur",
    },
    nav: {
      offer: "Offre",
      subjects: "Matières",
      method: "Méthode",
      faq: "FAQ",
      contactPage: "Contact",
      register: "S'inscrire",
    },
    hero: {
      pillFormats: "Bruxelles - En ligne - À domicile",
      pillFast: "Réponse rapide",
      title: "Cours particuliers exigeants pour progresser durablement.",
      subtitle:
        "BCWcours accompagne les parents, les élèves du secondaire et les étudiants de l'enseignement supérieur à Bruxelles, en ligne et à domicile, avec un suivi rigoureux et humain.",
      ctaPrimary: "Demander un cours",
      ctaSecondary: "Appeler",
      proof1: "Réponse sous 24h ouvrables",
      proof2: "Méthode claire en 3 étapes",
      proof3: "Suivi continu élève/parent",
    },
    trust: {
      title: "Pourquoi les familles nous font confiance",
      subtitle:
        "Une équipe de 3 diplômés Solvay Brussels School, un cadre clair et un accompagnement constant.",
      card1: {
        title: "Équipe expérimentée",
        text: "Cours assurés par des profils académiques solides, habitués aux objectifs d'examen.",
      },
      card2: {
        title: "Cadre sur mesure",
        text: "Chaque élève suit un plan adapté au niveau, au rythme et aux priorités.",
      },
      card3: {
        title: "Communication rapide",
        text: "Retour sous 24h ouvrables pour organiser le format, la matière et le planning.",
      },
      card4: {
        title: "Résultats mesurables",
        text: "Objectifs fixés en amont, progression suivie après chaque séance.",
      },
    },
    offer: {
      title: "Notre offre d'accompagnement",
      subtitle:
        "Nous n'affichons pas de tarif public: chaque demande reçoit un devis personnalisé selon le niveau, la matière et le format.",
      secondary: {
        title: "Secondaire",
        text: "Consolidation des bases, préparation d'examens, remédiations ciblées et méthode de travail.",
        point1: "Mathématiques, sciences, langues et plus",
        point2: "Suivi continu avec objectifs hebdomadaires",
        point3: "Format individuel ou mini-groupe",
      },
      higher: {
        title: "Enseignement supérieur",
        text: "Appui méthodologique et académique pour valider les cours exigeants et préparer les évaluations.",
        point1: "Finance, comptabilité, statistiques, langues",
        point2: "Préparation de travaux et examens",
        point3: "Approche structurée orientée performance",
      },
    },
    formats: {
      title: "Formats",
      subtitle: "Trois modalités simples pour s'adapter au planning de chaque famille.",
      card1: {
        title: "En ligne",
        text: "Cours interactifs avec partage d'écran, supports et exercices en direct.",
      },
      card2: {
        title: "À domicile",
        text: "Accompagnement dans un cadre familier, avec suivi personnalisé.",
      },
      card3: {
        title: "Bruxelles",
        text: "Sessions présentielles en ville selon disponibilités et localisation.",
      },
    },
    local: {
      title: "Cours particuliers à Bruxelles",
      subtitle:
        "Un accompagnement local pour les familles bruxelloises, avec une alternative en ligne quand le planning l'exige.",
      card1: {
        title: "Zone couverte",
        point1: "Bruxelles-Ville, Ixelles, Etterbeek, Uccle, Woluwe et communes voisines",
        point2: "Cours à domicile selon disponibilités et déplacements",
        point3: "Alternative immédiate en ligne si besoin rapide",
      },
      card2: {
        title: "Repères pour parents et étudiants",
        point1: "Diagnostic initial pour situer les priorités académiques",
        point2: "Plan clair, avec objectifs concrets par séance",
        point3: "Feedback continu pour suivre la progression à Bruxelles et en ligne",
      },
    },
    subjects: {
      title: "Matières couvertes",
      subtitle:
        "Nous couvrons les matières principales du secondaire et de l'enseignement supérieur.",
      card1: {
        title: "Mathématiques & sciences",
        text: "Maths, physique, chimie, statistiques et raisonnement scientifique.",
      },
      card2: {
        title: "Langues & communication",
        text: "Français, néerlandais, anglais, méthodologie rédactionnelle et orale.",
      },
      card3: {
        title: "Finance & comptabilité",
        text: "Principes comptables, analyse financière, exercices et cas pratiques.",
      },
    },
    method: {
      title: "Méthode & suivi",
      subtitle: "Un processus clair en 3 étapes, identique pour tous les formats.",
      card1: {
        title: "1. Diagnostic",
        text: "Évaluation rapide des acquis, blocages et priorités académiques.",
      },
      card2: {
        title: "2. Plan",
        text: "Plan de séances ciblées avec objectifs précis et exercices adaptés.",
      },
      card3: {
        title: "3. Feedback",
        text: "Compte-rendu régulier pour ajuster la trajectoire et valider les progrès.",
      },
    },
    testimonials: {
      title: "Témoignages",
      subtitle: "Quelques retours récents de familles et d'étudiants accompagnés.",
      card1: {
        quote:
          '"Encadrement très sérieux, notre fils a repris confiance en maths en quelques semaines."',
        author: "Parent - Bruxelles",
      },
      card2: {
        quote:
          '"Méthodologie claire pour mes examens de finance. Suivi efficace et humain."',
        author: "Étudiante - Enseignement supérieur",
      },
      card3: {
        quote:
          '"Disponibilité rapide et explications très pédagogiques pour les sciences."',
        author: "Parent - Brabant",
      },
    },
    faq: {
      title: "FAQ",
      q1: "Pourquoi n'affichez-vous pas les prix ?",
      a1: "Chaque demande est différente. Nous envoyons un devis personnalisé selon le niveau, la matière, le format et la fréquence.",
      q2: "Intervenez-vous uniquement à Bruxelles ?",
      a2: "Nous couvrons Bruxelles en présentiel et proposons aussi des cours en ligne selon les besoins.",
      q3: "Prenez-vous l'enseignement supérieur ?",
      a3: "Oui, notamment pour les matières quantitatives, les langues, la finance et la comptabilité.",
      q4: "Sous quel délai êtes-vous disponibles ?",
      a4: "Nous revenons rapidement avec une proposition adaptée, en général sous 24h ouvrables.",
      q5: "Comment se passe le démarrage ?",
      a5: "Après votre demande, nous validons objectifs et disponibilités puis planifions la première séance.",
    },
    finalCta: {
      title: "Un dernier point avant de démarrer",
      subtitle:
        "Passez par notre page contact pour choisir le meilleur canal, puis lancez votre inscription complète.",
      point1: "Canaux directs: téléphone, WhatsApp, Instagram, Facebook",
      point2: "Réponse sous 24h ouvrables",
      point3: "Ensuite, inscription claire en 2 minutes",
      primary: "Voir la page contact",
      secondary: "Aller à l'inscription",
    },
    contact: {
      title: "Contact",
      subtitle:
        "Décrivez votre besoin. Nous revenons vers vous avec un plan et un devis personnalisé.",
      directTitle: "Contact direct",
      directText:
        "Appelez-nous ou écrivez-nous sur Instagram/Facebook.",
      pageLink: "Ouvrir la page contact",
      signupTitle: "Demande de cours premium",
      signupText:
        "Le formulaire complet est centralisé sur la page Inscription pour une prise en charge plus rapide et structurée.",
      signupPoint1: "Formulaire détaillé en moins de 2 minutes",
      signupPoint2: "Analyse rapide de votre besoin",
      signupPoint3: "Retour avec plan d'accompagnement et devis",
      signupCta: "Ouvrir l'inscription",
    },
    form: {
      title: "Demande de cours",
      nameLabel: "Nom",
      namePlaceholder: "Votre nom",
      emailLabel: "Email",
      emailPlaceholder: "vous@email.com",
      phoneLabel: "Téléphone",
      phonePlaceholder: "+32 ...",
      levelLabel: "Niveau",
      levelPlaceholder: "Sélectionnez un niveau",
      levelSecondary: "Secondaire",
      levelHigher: "Enseignement supérieur",
      subjectLabel: "Matière",
      subjectPlaceholder: "Ex: mathématiques",
      messageLabel: "Message",
      messagePlaceholder: "Contexte, disponibilités, objectif...",
      submit: "Envoyer la demande",
      sending: "Envoi en cours...",
      success: "Merci. Votre demande a bien été envoyée.",
      honeypot: "Envoi bloqué.",
      fallback: "Erreur d'envoi. Vérifiez la configuration Supabase (table/policy) puis réessayez.",
      invalid: "Veuillez compléter les champs obligatoires.",
      messageTooShort: "Le message doit contenir au moins 10 caractères.",
      mailSubject: "Demande de cours BCWcours",
    },
    footer: {
      text: "Cours particuliers premium à Bruxelles, en ligne et à domicile.",
      location: "Bruxelles • En ligne • À domicile",
      ctaTitle: "Passez à l'étape suivante",
      ctaText: "Envoyez votre demande, recevez un retour clair sous 24h ouvrables.",
      ctaPrimary: "Demander un cours",
      ctaSecondary: "WhatsApp",
      reassurance: "Sans engagement • inscription en 2 minutes • format sur mesure",
      backTop: "Retour en haut",
      register: "Inscription",
      contact: "Contact",
    },
  },
  nl: {
    brand: {
      tagline: "Secundair - Hoger onderwijs",
    },
    nav: {
      offer: "Aanbod",
      subjects: "Vakken",
      method: "Methode",
      faq: "FAQ",
      contactPage: "Contact",
      register: "Inschrijven",
    },
    hero: {
      pillFormats: "Brussel - Online - Aan huis",
      pillFast: "Snelle reactie",
      title: "Doelgerichte bijles om duurzaam vooruit te gaan.",
      subtitle:
        "BCWcours begeleidt ouders, leerlingen uit het secundair en studenten in het hoger onderwijs in Brussel, online en aan huis, met een strikte en menselijke aanpak.",
      ctaPrimary: "Vraag een les aan",
      ctaSecondary: "Bellen",
      proof1: "Antwoord binnen 24 werkuren",
      proof2: "Duidelijke methode in 3 stappen",
      proof3: "Doorlopende opvolging leerling/ouder",
    },
    trust: {
      title: "Waarom gezinnen ons vertrouwen",
      subtitle:
        "Een team van 3 afgestudeerden van Solvay Brussels School, met duidelijke structuur en constante opvolging.",
      card1: {
        title: "Ervaren team",
        text: "Lessen gegeven door sterke academische profielen met focus op examendoelen.",
      },
      card2: {
        title: "Maatwerk",
        text: "Elke leerling volgt een plan op maat van niveau, ritme en prioriteiten.",
      },
      card3: {
        title: "Snelle communicatie",
        text: "Binnen 24 werkuren antwoord over format, vak en planning.",
      },
      card4: {
        title: "Meetbare vooruitgang",
        text: "Doelen vooraf bepaald, voortgang na elke sessie opgevolgd.",
      },
    },
    offer: {
      title: "Ons begeleidingsaanbod",
      subtitle:
        "Geen publieke prijs op de site: we maken een offerte op maat volgens niveau, vak en format.",
      secondary: {
        title: "Secundair",
        text: "Versterking van basiskennis, examenvoorbereiding, gerichte remediëring en studiemethode.",
        point1: "Wiskunde, wetenschappen, talen en meer",
        point2: "Continue opvolging met wekelijkse doelen",
        point3: "Individueel of in mini-groep",
      },
      higher: {
        title: "Hoger onderwijs",
        text: "Methodologische en academische ondersteuning voor uitdagende vakken en evaluaties.",
        point1: "Financiën, boekhouding, statistiek, talen",
        point2: "Voorbereiding van opdrachten en examens",
        point3: "Gestructureerde aanpak gericht op resultaat",
      },
    },
    formats: {
      title: "Formats",
      subtitle: "Drie duidelijke opties die aansluiten op elke agenda.",
      card1: {
        title: "Online",
        text: "Interactieve lessen met schermdeling, materiaal en oefeningen in realtime.",
      },
      card2: {
        title: "Aan huis",
        text: "Begeleiding in vertrouwde omgeving met persoonlijke opvolging.",
      },
      card3: {
        title: "Brussel",
        text: "Fysieke sessies in Brussel volgens beschikbaarheid en locatie.",
      },
    },
    local: {
      title: "Bijles in Brussel",
      subtitle:
        "Lokale begeleiding voor Brusselse gezinnen, met online alternatief wanneer de planning daarom vraagt.",
      card1: {
        title: "Werkgebied",
        point1: "Brussel-Stad, Elsene, Etterbeek, Ukkel, Woluwe en nabije gemeenten",
        point2: "Aan-huislessen volgens beschikbaarheid en verplaatsing",
        point3: "Meteen online alternatief bij dringende vraag",
      },
      card2: {
        title: "Houvast voor ouders en studenten",
        point1: "Startdiagnose om academische prioriteiten te bepalen",
        point2: "Duidelijk plan met concrete doelen per sessie",
        point3: "Doorlopende feedback om vooruitgang in Brussel en online op te volgen",
      },
    },
    subjects: {
      title: "Gedekte vakken",
      subtitle: "Wij begeleiden in de belangrijkste vakken van secundair en hoger onderwijs.",
      card1: {
        title: "Wiskunde & wetenschappen",
        text: "Wiskunde, fysica, chemie, statistiek en wetenschappelijk redeneren.",
      },
      card2: {
        title: "Talen & communicatie",
        text: "Frans, Nederlands, Engels, schrijfvaardigheid en mondelinge presentatie.",
      },
      card3: {
        title: "Financiën & boekhouding",
        text: "Boekhoudprincipes, financiële analyse, oefeningen en praktijkcases.",
      },
    },
    method: {
      title: "Methode & opvolging",
      subtitle: "Een helder proces in 3 stappen, gelijk voor alle formats.",
      card1: {
        title: "1. Diagnose",
        text: "Snelle evaluatie van kennis, blokkades en academische prioriteiten.",
      },
      card2: {
        title: "2. Plan",
        text: "Gericht lesplan met duidelijke doelen en aangepaste oefeningen.",
      },
      card3: {
        title: "3. Feedback",
        text: "Regelmatige terugkoppeling om de aanpak bij te sturen en vooruitgang te bevestigen.",
      },
    },
    testimonials: {
      title: "Getuigenissen",
      subtitle: "Enkele recente reacties van gezinnen en studenten.",
      card1: {
        quote:
          '"Zeer professionele begeleiding. Onze zoon kreeg opnieuw vertrouwen in wiskunde."',
        author: "Ouder - Brussel",
      },
      card2: {
        quote:
          '"Heldere methode voor mijn examens financiën. Efficiënte en menselijke opvolging."',
        author: "Studente - Hoger onderwijs",
      },
      card3: {
        quote:
          '"Snelle beschikbaarheid en heel pedagogische uitleg voor wetenschappen."',
        author: "Ouder - Brabant",
      },
    },
    faq: {
      title: "FAQ",
      q1: "Waarom tonen jullie geen prijzen?",
      a1: "Elke aanvraag is anders. We sturen een offerte op maat volgens niveau, vak, format en frequentie.",
      q2: "Werken jullie alleen in Brussel?",
      a2: "We geven fysieke lessen in Brussel en bieden ook online begeleiding aan.",
      q3: "Begeleiden jullie ook hoger onderwijs?",
      a3: "Ja, vooral voor kwantitatieve vakken, talen, financiën en boekhouding.",
      q4: "Hoe snel zijn jullie beschikbaar?",
      a4: "We reageren snel met een voorstel op maat, meestal binnen 24 werkuren.",
      q5: "Hoe start de begeleiding?",
      a5: "Na je aanvraag stemmen we doelen en planning af en plannen we de eerste sessie.",
    },
    finalCta: {
      title: "Nog één stap voor je start",
      subtitle:
        "Bekijk eerst onze contactpagina om het juiste kanaal te kiezen en start daarna je volledige inschrijving.",
      point1: "Directe kanalen: telefoon, WhatsApp, Instagram, Facebook",
      point2: "Antwoord binnen 24 werkuren",
      point3: "Daarna heldere inschrijving in 2 minuten",
      primary: "Bekijk contactpagina",
      secondary: "Ga naar inschrijving",
    },
    contact: {
      title: "Contact",
      subtitle:
        "Beschrijf je noden. We komen bij je terug met een plan en een offerte op maat.",
      directTitle: "Direct contact",
      directText: "Bel ons of stuur ons een bericht via Instagram/Facebook.",
      pageLink: "Open contactpagina",
      signupTitle: "Premium lesaanvraag",
      signupText:
        "Het volledige formulier staat op de inschrijvingspagina voor snellere en beter gestructureerde opvolging.",
      signupPoint1: "Volledig formulier in minder dan 2 minuten",
      signupPoint2: "Snelle analyse van je behoefte",
      signupPoint3: "Reactie met begeleidingsplan en offerte",
      signupCta: "Open inschrijving",
    },
    form: {
      title: "Lesaanvraag",
      nameLabel: "Naam",
      namePlaceholder: "Jouw naam",
      emailLabel: "E-mail",
      emailPlaceholder: "jij@email.com",
      phoneLabel: "Telefoon",
      phonePlaceholder: "+32 ...",
      levelLabel: "Niveau",
      levelPlaceholder: "Selecteer een niveau",
      levelSecondary: "Secundair",
      levelHigher: "Hoger onderwijs",
      subjectLabel: "Vak",
      subjectPlaceholder: "Bv. wiskunde",
      messageLabel: "Bericht",
      messagePlaceholder: "Context, beschikbaarheid, doel...",
      submit: "Verstuur aanvraag",
      sending: "Verzenden...",
      success: "Bedankt. Je aanvraag werd goed verzonden.",
      honeypot: "Verzending geblokkeerd.",
      fallback: "Verzendfout. Controleer de Supabase-configuratie (tabel/policy) en probeer opnieuw.",
      invalid: "Vul de verplichte velden in.",
      messageTooShort: "Je bericht moet minstens 10 tekens bevatten.",
      mailSubject: "BCWcours lesaanvraag",
    },
    footer: {
      text: "Premium bijles in Brussel, online en aan huis.",
      location: "Brussel • Online • Aan huis",
      ctaTitle: "Zet de volgende stap",
      ctaText: "Dien je aanvraag in en ontvang binnen 24 werkuren een duidelijk antwoord.",
      ctaPrimary: "Vraag een les aan",
      ctaSecondary: "WhatsApp",
      reassurance: "Zonder verplichting • inschrijving in 2 minuten • format op maat",
      backTop: "Terug naar boven",
      register: "Inschrijving",
      contact: "Contact",
    },
  },
};
const STORAGE_KEY = "bcw-lang";
const DEFAULT_LANG = "fr";

const langButtons = document.querySelectorAll(".lang-btn");

function getNestedValue(source, path) {
  return path.split(".").reduce((acc, key) => {
    if (!acc || typeof acc !== "object") {
      return undefined;
    }
    return acc[key];
  }, source);
}

function getStoredLanguage() {
  const stored = localStorage.getItem(STORAGE_KEY);
  if (stored && translations[stored]) {
    return stored;
  }
  return DEFAULT_LANG;
}

function setActiveLanguageButton(language) {
  langButtons.forEach((button) => {
    button.classList.toggle("is-active", button.dataset.lang === language);
  });
}

function applyTranslations(language) {
  const dictionary = translations[language] || translations[DEFAULT_LANG];

  document.documentElement.lang = language;

  document.querySelectorAll("[data-i18n]").forEach((node) => {
    const key = node.getAttribute("data-i18n");
    const value = getNestedValue(dictionary, key);
    if (typeof value === "string") {
      node.textContent = value;
    }
  });

  document.querySelectorAll("[data-i18n-placeholder]").forEach((node) => {
    const key = node.getAttribute("data-i18n-placeholder");
    const value = getNestedValue(dictionary, key);
    if (typeof value === "string") {
      node.setAttribute("placeholder", value);
    }
  });

  localStorage.setItem(STORAGE_KEY, language);
  setActiveLanguageButton(language);
}

function messageForCurrentLanguage(key) {
  const language = getStoredLanguage();
  const dictionary = translations[language] || translations[DEFAULT_LANG];
  const value = getNestedValue(dictionary, key);
  return typeof value === "string" ? value : "";
}

langButtons.forEach((button) => {
  button.addEventListener("click", () => {
    const language = button.dataset.lang;
    if (!language || !translations[language]) {
      return;
    }
    applyTranslations(language);
  });
});

if (document.querySelector("[data-i18n]") || langButtons.length) {
  applyTranslations(getStoredLanguage());
}

window.BCWI18n = {
  getStoredLanguage,
  applyTranslations,
  messageForCurrentLanguage,
};
